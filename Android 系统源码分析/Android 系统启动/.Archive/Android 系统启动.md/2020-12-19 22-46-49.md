# **Android 系统启动**
##  init 进程
init 进程中处理了很多事情，主要处理了：
* **创建和挂载启动所需的文件目录**
* **初始化和启动属性服务**
* **解析 init.rc 配置文件并启动 Zygote 进程**
## Zygote 进程的启动过程
![](Zygote 进程启动.png)
Zygote 进程启动过程：
* **创建 AppRuntime 并调用其 start 方法，启动 Zygote 进程**
* **创建 Java 虚拟机并为其注册 JNI 方法（注册 JNI 是为了从 native 层调用 Java 层）**
* **通过 JNI 调用 ZygoteInit 的 main 函数进入 Zygote 的 Java 框架层**
* **通过 registerServerSocket 方法创建服务器端的 Socket，并通过 runSelectLoop 方法等待 AMS 的请求来创建新的应用程序进程（Zygote 通过 fork 来创建子进程）**
* **启动 SystemServer 进程**
# SystemServer 进程
![](SystemServer 启动.png)
SystemServer
